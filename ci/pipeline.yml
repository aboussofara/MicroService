resources:
- name: source-code
  type: git
  source:
    uri: ssh://git@git.int.bellmedia.ca:7999/bondum/registration-dummy-rest-api.git
    branch: master
    private_key: {{git-private-key}}

- name: docker-image-to-docker-register
  type: docker-image
  source:
    repository: bellmediatest/bellmedia
    tag: "latest"
    username: bellmediatest
    password: Bmanita_1899


jobs:
  - name: Build project
    plan:
    - get: source-code
      trigger: true
    - task: package
      file: source-code/ci/package.yml
    - put: docker-image-to-docker-register
      params:
        build: package-output
